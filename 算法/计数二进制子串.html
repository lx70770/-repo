<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>计数二进制子串</title>
  </head>
  <body></body>
  <script>
    var countBinarySubstrings = function(s) {
      var count = 0;
      // 匹配条件
      function match(str) {
        let j = str.match(/(0+|1+)/)[0];
        let o = (j[0] ^ 1).toString().repeat(j.length);
        let q = j + o;
        if (str.startsWith(q)) {
          return true;
        } else {
          return false;
        }
      }

      // 按顺序截取字符串，满足条件数量加1
      for (var i = 0; i < s.length - 1; i++) {
        var sub = match(s.slice(i));
        if (sub) {
          count++;
        }
      }
      return count;
    };
  </script>
</html>
